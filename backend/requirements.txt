# ============================================================================
# Farm Management System - Backend Dependencies
# ============================================================================
# Version: 1.4.0
# Created: 2025-11-17
#
# Changelog:
# ----------
# v1.4.0 (2025-11-22):
#   - Added aiosmtplib==3.0.1 for SMTP email sending
#   - Added jinja2==3.1.2 for email template rendering
#   - SMTP Email Service implementation with queue and templates
#
# v1.3.0 (2025-11-21):
#   - BREAKING: Removed python-telegram-bot library
#   - Telegram notifications now use direct HTTP API calls via httpx
#   - More reliable deployment on Render and other platforms
#   - No external library dependency for Telegram functionality
#
# v1.2.1 (2025-11-20):
#   - CRITICAL FIX: Updated python-telegram-bot from 20.8 to 22.5
#   - Resolves httpx dependency conflict (20.8 required ~=0.26.0, but we need 0.27.2)
#   - python-telegram-bot 22.5 supports httpx>=0.27,<0.29 (compatible with 0.27.2)
#
# v1.2.0 (2025-11-19):
#   - CRITICAL: Updated supabase from 2.7.4 to 2.24.0 (latest)
#   - Fixes deprecated packages: supafunc -> supabase_functions
#   - Updated pydantic from 2.5.0 to 2.11.7 (required by realtime 2.24.0)
#   - Updated pydantic-settings from 2.1.0 to 2.6.0
#   - Updated httpx from 0.27.0 to 0.27.2
#   - Resolves pip dependency resolution conflicts
#
# v1.1.0 (2025-11-18):
#   - Added APScheduler for background tasks (inventory reservation auto-expiry)
#
# v1.0.0 (2025-11-17):
#   - Initial dependencies for FastAPI backend
#   - Async PostgreSQL support
#   - JWT authentication
#   - Supabase integration
#   - Excel export capabilities
#   - Testing framework
# ============================================================================

# Core FastAPI
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6

# Database - Async PostgreSQL
asyncpg==0.29.0

# Supabase Client (for password reset emails)
# Updated to latest version - uses supabase_functions instead of deprecated supafunc
supabase==2.24.0

# Authentication & Security
python-jose[cryptography]==3.3.0
bcrypt==4.1.2
python-dotenv==1.0.0
pydantic[email]==2.11.7  # Updated to satisfy realtime 2.24.0 requirement (>=2.11.7)
pydantic-settings==2.6.0  # Updated for pydantic 2.11.7 compatibility

# Data Processing & Export
pandas==2.1.3
xlsxwriter==3.1.9
openpyxl==3.1.2

# HTTP Client
httpx==0.27.2  # Updated for supabase 2.24.0 compatibility
aiofiles==23.2.1

# Background Tasks & Scheduling
APScheduler==3.10.4

# Email - SMTP & Templates
aiosmtplib==3.0.1
jinja2==3.1.2

# Telegram Bot - uses httpx (already included above) for direct API calls
# No additional library needed

# Documentation
markdown==3.5.1

# Development & Testing
pytest==7.4.3
pytest-asyncio==0.21.1
black==23.12.0
ruff==0.1.8
